<!doctype html>

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/moo.css">
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
        </script>
        <script type="text/javascript"
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
    </head>
    
    <body>
    
        <h1><a href="index.html" style="color:rgb(0, 0, 64);">Samuel Tenka</a></h1>

            <h2>Reading</h2> 
    
                <div>
                    Here's what I've been reading recently.  Click on the bold bubbles for notes.
                    The ratings live in $[0, 1]$ and are computed as
                    $ \frac{1}{8} \left (4 \cdot \text{overall} + \text{humor} + \text{poetry} + \text{technical insight} + \text{human insight}\right) $
                    where each sub-score lives in $[0, 1]$.
                </div>
 
                <div class="separator" style="clear: both; text-align: center;">
                    <canvas height="480" id="myCanvas" style="border: 0px;" width="640"></canvas>
                    <div id="infobox">
                </div>

                <br>
                <br>
                <div>
                    Thanks to <a href="https://medium.com/@jagadeshanh/html5-canvas-click-and-draw-f665e02f5744">
                    this medium article</a>.
                </div>

    
                <script>
                    var canvas = document.getElementById("myCanvas");
                    var context = canvas.getContext("2d");
                    var rect = canvas.getBoundingClientRect();
                    canvas.addEventListener("mousemove", onMouseMove, false);
                    canvas.addEventListener("click", onClick, false);
                    context.font = "20px Arial";
                    context.fillStyle = "#444";
                    context.textAlign="center"; 
                    var offset = 40;

                    /*
                        month of completion 
                        date of publication
                        holistic rating
                        humour 
                        poetry 
                        technicality 
                        learn about human
                    */
                    var books = [
                        ["Peaceful Pill Handbook",          "2017-02", 2006, 0  , 0  , 0.5, 1.5, 0.5],
                        ["Pale Fire",                       "2017-03", 1962, 1.5, 1  , 1  , 0.5, 0  ],
                        ["A Confederacy of Dunces",         "2017-04", 1980, 2  , 2  , 0.5, 0  , 1  ],
                        ["Zen in the Art of Writing",       "2017-05", 1990, 0  , 0  , 0  , 1  , 0.5, "books/zen_bradbury.html"],
                        ["To Friend Who Didn't Save M'Life","2017-06", 1990, 2  , 0.5, 1  , 0.5, 2  ],
                        ["Martian Chronicles",              "2017-06", 1950, 1  , 0  , 1  , 0  , 0  ],
                        ["Running with Scissors",           "2017-06", 2002, 1.5, 2  , 0  , 0  , 1  ],
                        ["Cannery Row",                     "2017-06", 1945, 1  , 0.5, 0.5, 0  , 0.5],
                        ["Hebdomeros",                      "2017-07", 1929, 0.5, 0  , 1  , 0  , 0  ],
                        ["Fahrenheit 451",                  "2017-07", 1953, 0  , 0  , 0  , 0  , 0  ],
                        ["Milnor's Differential Topology",  "2017-07", 1965, 2  , 0  , 0.5, 2  , 0  ],
                        ["How to Do Things Right",          "2017-07", 1004, 1.5, 1  , 0.5, 0.5, 0.5],
                        ["Me Talk Pretty One Day",          "2017-10", 2000, 1  , 1  , 0  , 0  , 0.5],
                        ["An Artist of the Floating World", "2018-01", 1986, 2  , 0.5, 0.5, 0  , 1  , "books/artist_ishiguro.html"],
                        ["A Clockwork Orange",              "2018-03", 1962, 2  , 0  , 1  , 0  , 2  , "books/clockwork_burgess.html"],
                        /*["Winesburg, Ohio",                 "2018-04", 1919, 0  , 0  , 0  , 0  , 0  ],
                        ["Gulliver's Travels",              "2018-04", 1726, 0  , 0  , 0  , 0  , 0  ],
                        ["Pnin",                            "2018-04", 1957, 0  , 0  , 0  , 0  , 0  ],
                        ["Neon Bible",                      "2018-04", 1954, 0  , 0  , 0  , 0  , 0  ],
                        ["Love in the Time of Cholera",     "2018-04", 1985, 0  , 0  , 0  , 0  , 0  ],
                        ["Unbearable Lightness of Being",   "2018-05", 1984, 0  , 0  , 0  , 0  , 0  ],
                        ["Life a User's Manual",            "2018-05", 1978, 0  , 0  , 0  , 0  , 0  ],
                        ["Ada or Ardor: A Family Chronicle","2018-05", 1969, 0  , 0  , 0  , 0  , 0  ],
                        ["Portrait of Artist as Young Man", "2018-05", 1916, 0  , 0  , 0  , 0  , 0  ],
                        ["Borge's Labrinths",               "2018-05", 1962, 0  , 0  , 0  , 0  , 0  ],
                        ["The World According to Garp",     "2018-05", 1978, 0  , 0  , 0  , 0  , 0  ],
                        ["Thinking Fast and Slow",          "2018-05", 2011, 0  , 0  , 0  , 0  , 0  ],
                        ["The Broom of the System",         "2018-05", 1987, 0  , 0  , 0  , 0  , 0  ],
                        ["De Profundis",                    "2018-06", 1905, 0  , 0  , 0  , 0  , 0  ],
                        ["DeLillo's White Noise",           "2018-06", 1985, 0  , 0  , 0  , 0  , 0  ],
                        ["Through the Looking Glaass",      "2018-06", 1871, 0  , 0  , 0  , 0  , 0  ],
                        ["Flowers in the Mirror",           "2018-06", 1827, 0  , 0  , 0  , 0  , 0  ],
                        ["20,000 Leagues Under the Sea",    "2018-06", 1870, 0  , 0  , 0  , 0  , 0  ],
                        ["Anna Karenina",                   "2018-06", 1877, 0  , 0  , 0  , 0  , 0  ],
                        ["Leaves of Grass",                 "2018-06", 1855, 0  , 0  , 0  , 0  , 0  ],
                        ["Twain's Connecticut Yankee",      "2018-06", 1889, 0  , 0  , 0  , 0  , 0  ],
                        ["A Boy's Own Story",               "2018-07", 1982, 0  , 0  , 0  , 0  , 0  ],
                        ["The Catcher in the Rye",          "2018-07", 1951, 0  , 0  , 0  , 0  , 0  ],
                        ["Adventures of Kavalier and Clay", "2018-07", 2000, 0  , 0  , 0  , 0  , 0  ],
                        ["Mysteries of Pittsburgh",         "2018-07", 1988, 0  , 0  , 0  , 0  , 0  ],
                        ["The Corrections",                 "2018-07", 2001, 0  , 0  , 0  , 0  , 0  ],
                        ["The Adventures of Augie March",   "2018-07", 1953, 0  , 0  , 0  , 0  , 0  ],
                        ["Portnoy's Complaint",             "2018-07", 1969, 0  , 0  , 0  , 0  , 0  ],
                        ["Brief Wondrous Life of Oscar Wao","2018-07", 2007, 0  , 0  , 0  , 0  , 0  ],
                        ["The Anatomy of Prose",            "2018-08", 1954, 0  , 0  , 0  , 0  , 0  ],*/
                    ];

                    onMouseMove_xy(0, 0);

                    function get_score(i) {
                        b = books[i]
                        return (4*b[3]+b[4]+b[5]+b[6]+b[7])/16.0;
                    }
                    function get_book_y(i) {
                        return offset+(canvas.height-3*offset) * (1.0 - get_score(i));
                    }
                    function get_book_x(i) {
                        return offset+(canvas.width-3*offset) * (books[i][2]-1720.0)/(2020.0 - 1720.0);
                    }

                    function resetCanvas() {
                        rect = canvas.getBoundingClientRect();
                        context.clearRect(0, 0, canvas.width, canvas.height);
                        context.strokeStyle="#888";
                        context.lineWidth = 3;
                        /* y axis: */
                            context.moveTo(offset, offset);
                            context.lineTo(offset, canvas.height-offset) 
                            context.rotate(-Math.PI/2);
                            context.fillText("Rating", -canvas.height/2, offset/2);
                            context.rotate(+Math.PI/2);
                        /* x axis: */
                            context.moveTo(offset, canvas.height-offset);
                            context.lineTo(canvas.width-offset, canvas.height-offset);
                            context.fillText("Date of Publication", canvas.width/2, canvas.height-offset/2);
                            context.fillText("1720", offset, canvas.height-offset/2);
                            context.fillText("2020", canvas.width-offset, canvas.height-offset/2);
                        context.stroke();
                    }

                    function onMouseMove(e) {
                        onMouseMove_xy(e.clientX-rect.left, e.clientY-rect.top)
                    }
                    function onMouseMove_xy(clickx, clicky) {
                        resetCanvas();
                        for (i=0; i!=books.length; ++i) {
                            var bookx = get_book_x(i);
                            var booky = get_book_y(i);
                            var d2 = Math.pow(clickx-bookx,2) + Math.pow(clicky-booky,2);
                            var color = "#88c"; 
                            context.lineWidth = books[i].length==9 ? 6 : 3;
                            if (d2<7.5*7.5) {
                                color = "#4cf";
                                var text = books[i][0]+" ("+books[i][2]+"): "+Math.round(get_score(i)*100)/100;
                                context.fillText(text, canvas.width/2, offset);
                            }
                            context.beginPath();
                            context.arc(bookx, booky, 7.5, 0, Math.PI * 2, false);
                            context.strokeStyle = color;
                            context.stroke();
                        }
                    }

                    function onClick(e) {
                        var clickx, clicky;
                        clickx = e.clientX-rect.left;
                        clicky = e.clientY-rect.top;
                        for (i=0; i!=books.length; ++i) {
                            var bookx = get_book_x(i);
                            var booky = get_book_y(i);
                            var d2 = Math.pow(clickx-bookx,2) + Math.pow(clicky-booky,2);
                            if (d2<7.5*7.5 && books[i].length==9) {
                                window.location = books[i][8];
                            }
                        }
                    }
               </script>
 
    </body>
</html>
