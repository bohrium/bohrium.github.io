<html>
    <head>
        <link id="pagestyle" rel="stylesheet" type="text/css" href="../css/carboniferous.css">
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
        </script>
        <script type="text/javascript"
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <script type="application/javascript" src="../js/toggler.js"></script>
    </head>
    
    <body>
        <div id="togglerbody" style="text-align:center">
            <button id="toggler"> repaint </button>
            <h1 style="margin: 0 auto"><a href="../index.html"><div id="title">Samuel Tenka</div></a></h1>
        </div>

        
<p>
$\newcommand{\ZZ}{\mathbb{Z}}$
$\newcommand{\RR}{\mathbb{R}}$
$\newcommand{\CC}{\mathbb{C}}$
$\newcommand{\catC}{{\bf \text {C}}}$
$\newcommand{\Set}{{\bf \text {Set}}}$
$\newcommand{\Vec}{{\bf \text {Vec}}}$
$\newcommand{\from}{\leftarrow}$
<p>
<p>
<h2>  Categorical Probability: Beyond Simplices </h2>
<p>
<h3>  The Category of Conditionals  </h3>
    Let $\catC$ be the category of convex sets and affine maps.  For us, a convex set is a convex subset $C\subset V$
    of some (real) vector space, where we view $(C\subset V), (C'\subset V')$ as equivalent when some affine map
    between $V, V'$ restricts to a bijection between $C, C'$. 
<p>
    Every set $S$ generates an $|S|$-pointed simplex $\Delta_S$.
    Thus arises an adjoint pair $\text{Free}:\catC \from \Set$ and $\text{Forg}:\Set \from \catC$.
    Each convex set $C$ generates a vector space $V = \RR^{\oplus C} / \sim$, where $C$'s relations generate $\sim$.
    Thus arises an adjoint pair $\text{Free}:\Vec \from \catC$ and $\text{Forg}:\catC \from \Vec$.
<p>
    In fact, the simplices have a special interpretation: a map $[A] \from \Delta_1$ may be identified with a
    (finite-support) <em>probability distribution</em> $P(a)$ on the set $A$.
    Likewise, a map $[A] \from [B]$ has the same data as a <em>conditional</em> probability distribution $P(a|b)$
    (again with finite support for each element of $B$).
    With this interpretation, we see that composition of affine maps implements the rule
    $P(a|c) = \sum_b P(a|b) P(b|c)$; that is, composition implements <b>marginalization</b>.
<p>
    However, $\catC$ contains non-simplices: think of a square.  This note will show how the richer context of maps
    between general convex sets, not just simplices, illuminates the basic notions of probability.   
<p>
<h3>  Limits and Independence </h3>
    Guided by the forgetful functor from $\Vec$, we can constructively show that $\catC$ has all limits. 
    Indeed, $\sqcap_{i\in I} A_i$ is just the cartesian product with convex combinations taken elementwise.
    For example, the terminal element is $\Delta_1$. 
    And the equalizer of $f, g:A \from B$ is just $\{b\in B: f(b)=g(b)\}$, clearly convex.  
<p>
<h3>  Tensor-Hom and Inference   </h3>
    $\catC$ has internal homs, and, adjoint to hom, a tensor product.
<p>
<h3>  Colimits and Expectation </h3>
    Guided by the free functor from $\Set$, we can constructively show that $\catC$ has all colimits. 
    In fact, $\sqcup_{i\in I} A_i$ we may define as $\{\sum_i c_i a_i: a_i\in A_i, c_i\in \RR, |\text{support}(c)|\lt\infty\}$.
    For example, the initial element is $\Delta_0$. 
    And the coequalizer of $f, g:A\from B$ is just the set quotient $A / \sim$, where relations
    $(f(b)\sim g(b))_{b\in B}$ generate $\sim$.  If $\alpha, \alpha'$ are equivalence classes of $\sim$, considered
    as elements of $A / \sim$, then any convex mixture $\{sa + (1-s)a': a\in \alpha, a'\in\alpha'\}$ is also an equivalence
    class.  So $A/\sim$ is indeed convex.
<p>
    The <b>expectation</b> of a map $\RR \from A$ with respect to the distribution $A \from \Delta_1$ is just (the image of) the
    composition.
<p>
<p>
<p>
<h3>  Appendix: Computations </h3>
<h4>  Adjunctions  </h4>
    The free and forgetful functors between $\Set$ and $\catC$ are obviously adjoint.
    We thus focus on the free and forgetful functors between $\catC$ and $\Vec$.  
    We must demonstrate a natural bijection between $\Vec(V\from \RR^{\oplus C}/\sim)$ and $\catC(V\from C)$.
    FILL IN
<p>
    </body>
</html>
